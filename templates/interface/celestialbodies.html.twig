{% extends "base.html.twig" %}

{% block body %}

<main class="container">
  <table class="table border rounded table-dark text-center">
    <thead>
      <tr>
        <th scope="col">ID</th>
        <th scope="col">Name</th>
        <th scope="col">Creator</th>
        <th scope="col">Creator's role</th>
        <th scope="col">Picture</th>
        <th scope="col">Latest update</th>
        <th scope="col">Creation date</th>
        <th scope="col">Delete</th>
      </tr>
    </thead>
    {% for celestialBody in celestialBodies %}
    <tbody>
      <tr>
        <th scope="row">{{ celestialBody.id }}</th>
        <td>{{ celestialBody.name }}</td>
        <td>{{ celestialBody.user.nickname }}</td>
        <td>{{ celestialBody.user.role.name }}</td>
        <td width="20%"><img src="{{ asset('assets/images/pictures/' ~ celestialBody.picture) }}" width="20%"></td>
        <td>
          {{ celestialBody.updatedAt|date('Y-m-d \\test H \\heure') }}</td>
        <td>{{ celestialBody.createdAt|date('Y-m-d') }}</td>
        <td>
          <form method="post" action="{{ path('api_delete_celestial_body', {slug: celestialBody.slug}) }}"
            onsubmit="return confirm('Are you sure you want to delete this item?');" style="display: inline-block;">
            <input type="hidden" name="_method" value="DELETE">
            <button class="btn">Delete</button>
          </form>
        </td>
      </tr>
    </tbody>
    {% endfor %}
  </table>
</main>

{% endblock %}